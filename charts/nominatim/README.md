# nominatim

![Version: 5.2.0](https://img.shields.io/badge/Version-5.2.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 5.1.0](https://img.shields.io/badge/AppVersion-5.1.0-informational?style=flat-square)

A Helm chart for Kubernetes

## Requirements

| Repository | Name | Version |
|------------|------|---------|
| https://charts.bitnami.com/bitnami | common | 2.21.0 |
| https://charts.bitnami.com/bitnami | postgresql | 15.5.38 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` |  |
| args | list | `[]` |  |
| autoscaling.enabled | bool | `false` |  |
| autoscaling.maxReplicas | int | `11` |  |
| autoscaling.minReplicas | int | `1` |  |
| autoscaling.targetCPU | int | `50` |  |
| autoscaling.targetMemory | int | `50` |  |
| clusterDomain | string | `"cluster.local"` |  |
| command[0] | string | `"/bin/bash"` |  |
| command[1] | string | `"-ec"` |  |
| command[2] | string | `"gunicorn \\\n  --bind :8080 \\\n  --workers 4 \\\n  --enable-stdio-inheritance \\\n  --worker-class uvicorn.workers.UvicornWorker \\\n  nominatim_api.server.falcon.server:run_wsgi\n"` |  |
| commonAnnotations | object | `{}` |  |
| commonLabels | object | `{}` |  |
| containerSecurityContext.allowPrivilegeEscalation | bool | `false` |  |
| containerSecurityContext.capabilities.drop[0] | string | `"ALL"` |  |
| containerSecurityContext.enabled | bool | `false` |  |
| containerSecurityContext.runAsNonRoot | bool | `true` |  |
| containerSecurityContext.runAsUser | int | `1001` |  |
| customLivenessProbe | object | `{}` |  |
| customReadinessProbe | object | `{}` |  |
| customStartupProbe | object | `{}` |  |
| diagnosticMode.args[0] | string | `"infinity"` |  |
| diagnosticMode.command[0] | string | `"sleep"` |  |
| diagnosticMode.enabled | bool | `false` |  |
| externalDatabase.existingSecretDsn | string | `nil` |  |
| externalDatabase.existingSecretDsnKey | string | `"POSTGRESQL_DSN"` |  |
| externalDatabase.host | string | `"localhost"` |  |
| externalDatabase.password | string | `""` |  |
| externalDatabase.port | int | `5432` |  |
| externalDatabase.user | string | `"nominatim"` |  |
| extraContainerPorts | list | `[]` |  |
| extraDeploy | list | `[]` |  |
| extraEnvVars | list | `[]` |  |
| extraEnvVarsCM | string | `""` |  |
| extraEnvVarsSecret | string | `""` |  |
| extraVolumeMounts | list | `[]` |  |
| extraVolumes | list | `[]` |  |
| flatnode.accessModes[0] | string | `"ReadWriteMany"` |  |
| flatnode.annotations | object | `{}` |  |
| flatnode.dataSource | object | `{}` |  |
| flatnode.enabled | bool | `false` |  |
| flatnode.existingClaim | string | `""` |  |
| flatnode.selector | object | `{}` |  |
| flatnode.size | string | `"100Gi"` |  |
| flatnode.storageClass | string | `nil` |  |
| fullnameOverride | string | `""` |  |
| global.imagePullSecrets | list | `[]` |  |
| global.imageRegistry | string | `""` |  |
| global.security.allowInsecureImages | bool | `true` |  |
| global.storageClass | string | `""` |  |
| hostAliases[0].hostnames[0] | string | `"status.localhost"` |  |
| hostAliases[0].ip | string | `"127.0.0.1"` |  |
| image.debug | bool | `false` |  |
| image.digest | string | `""` |  |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.pullSecrets | list | `[]` |  |
| image.registry | string | `"docker.io"` |  |
| image.repository | string | `"mediagis/nominatim"` |  |
| image.tag | string | `"5.1.0"` |  |
| ingress.annotations | object | `{}` |  |
| ingress.apiVersion | string | `""` |  |
| ingress.enabled | bool | `false` |  |
| ingress.extraHosts | list | `[]` |  |
| ingress.extraPaths | list | `[]` |  |
| ingress.extraRules | list | `[]` |  |
| ingress.extraTls | list | `[]` |  |
| ingress.hostname | string | `"nominatim.local"` |  |
| ingress.ingressClassName | string | `""` |  |
| ingress.path | string | `"/"` |  |
| ingress.pathType | string | `"ImplementationSpecific"` |  |
| ingress.secrets | list | `[]` |  |
| ingress.selfSigned | bool | `false` |  |
| ingress.tls | bool | `false` |  |
| initContainers | list | `[]` |  |
| initJob.annotations | object | `{}` |  |
| initJob.backoffLimit | int | `0` |  |
| initJob.containerSecurityContext.allowPrivilegeEscalation | bool | `false` |  |
| initJob.containerSecurityContext.capabilities.drop[0] | string | `"ALL"` |  |
| initJob.containerSecurityContext.enabled | bool | `false` |  |
| initJob.containerSecurityContext.runAsNonRoot | bool | `true` |  |
| initJob.containerSecurityContext.runAsUser | int | `1001` |  |
| initJob.continue | string | `nil` |  |
| initJob.dbWaitTimeout | int | `300` |  |
| initJob.enabled | bool | `false` |  |
| initJob.freeze | bool | `false` |  |
| initJob.importGB_Postcode | bool | `false` |  |
| initJob.importStyle | string | `"full"` |  |
| initJob.importUS_Postcode | bool | `false` |  |
| initJob.importWikipedia | bool | `false` |  |
| initJob.initContainers.download.image | string | `"curlimages/curl"` |  |
| initJob.initContainers.waitForDB.image | string | `"postgres:14-alpine"` |  |
| initJob.pbfUrl | string | `"https://download.geofabrik.de/europe/germany/sachsen-latest.osm.pbf"` |  |
| initJob.persistence.accessModes[0] | string | `"ReadWriteOnce"` |  |
| initJob.persistence.annotations | object | `{}` |  |
| initJob.persistence.dataSource | object | `{}` |  |
| initJob.persistence.enabled | bool | `false` |  |
| initJob.persistence.existingClaim | string | `""` |  |
| initJob.persistence.selector | object | `{}` |  |
| initJob.persistence.size | string | `"100Gi"` |  |
| initJob.persistence.storageClass | string | `nil` |  |
| initJob.podAnnotations | object | `{}` |  |
| initJob.podLabels | object | `{}` |  |
| initJob.podSecurityContext.enabled | bool | `true` |  |
| initJob.podSecurityContext.fsGroup | int | `101` |  |
| initJob.podSecurityContext.seccompProfile.type | string | `"RuntimeDefault"` |  |
| initJob.resources | object | `{}` |  |
| initJob.resourcesPreset | string | `"micro"` |  |
| initJob.threads | int | `16` |  |
| initJob.wikipediaUrl | string | `"https://nominatim.org/data/wikimedia-importance.sql.gz"` |  |
| kubeVersion | string | `""` |  |
| lifecycleHooks | object | `{}` |  |
| livenessProbe.enabled | bool | `true` |  |
| livenessProbe.failureThreshold | int | `6` |  |
| livenessProbe.httpGet.httpHeaders[0].name | string | `"Host"` |  |
| livenessProbe.httpGet.httpHeaders[0].value | string | `"localhost"` |  |
| livenessProbe.httpGet.path | string | `"/status"` |  |
| livenessProbe.httpGet.port | string | `"http"` |  |
| livenessProbe.initialDelaySeconds | int | `120` |  |
| livenessProbe.periodSeconds | int | `10` |  |
| livenessProbe.successThreshold | int | `1` |  |
| livenessProbe.timeoutSeconds | int | `5` |  |
| nameOverride | string | `""` |  |
| networkPolicy.egressRules.customRules | object | `{}` |  |
| networkPolicy.egressRules.denyConnectionsToExternal | bool | `false` |  |
| networkPolicy.enabled | bool | `false` |  |
| networkPolicy.ingress.enabled | bool | `false` |  |
| networkPolicy.ingress.namespaceSelector | object | `{}` |  |
| networkPolicy.ingress.podSelector | object | `{}` |  |
| networkPolicy.ingressRules.accessOnlyFrom.enabled | bool | `false` |  |
| networkPolicy.ingressRules.accessOnlyFrom.namespaceSelector | object | `{}` |  |
| networkPolicy.ingressRules.accessOnlyFrom.podSelector | object | `{}` |  |
| networkPolicy.ingressRules.backendOnlyAccessibleByFrontend | bool | `false` |  |
| networkPolicy.ingressRules.customBackendSelector | object | `{}` |  |
| networkPolicy.ingressRules.customRules | object | `{}` |  |
| networkPolicy.metrics.enabled | bool | `false` |  |
| networkPolicy.metrics.namespaceSelector | object | `{}` |  |
| networkPolicy.metrics.podSelector | object | `{}` |  |
| nodeAffinityPreset.key | string | `""` |  |
| nodeAffinityPreset.type | string | `""` |  |
| nodeAffinityPreset.values | list | `[]` |  |
| nodeSelector | object | `{}` |  |
| nominatimUi.configuration | string | `"Nominatim_Config.Nominatim_API_Endpoint = '/api/';"` |  |
| nominatimUi.enabled | bool | `true` |  |
| nominatimUi.initContainers.download.image | string | `"curlimages/curl"` |  |
| nominatimUi.nginx.image | string | `"nginx:1.29.1-alpine"` |  |
| nominatimUi.nginx.imagePullPolicy | string | `"IfNotPresent"` |  |
| nominatimUi.nginxConfiguration | string | `"server {\n  listen 80;\n\n  index search.html;\n  root /nominatim/nominatim-ui/dist;\n\n  # for debuging comment in this line, and the next line to your compose file:\n  # error_log /var/log/nginx/error.log debug;\n  # command: [nginx-debug, '-g', 'daemon off;']\n\n  # n7m-api - Python endpoint\n  location /api/ {\n      rewrite /api/(.*) /$1 break;\n      proxy_set_header Host $http_host;\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n      proxy_set_header X-Forwarded-Proto $scheme;\n      proxy_set_header Upgrade $http_upgrade;\n      proxy_set_header Connection $connection_upgrade;\n      proxy_redirect off;\n      proxy_buffering off;\n      proxy_pass http://127.0.0.1:8080;\n  }\n\n  # n7m-api - Python health endpoint\n  location /status {\n      proxy_set_header Host $http_host;\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n      proxy_set_header X-Forwarded-Proto $scheme;\n      proxy_set_header Upgrade $http_upgrade;\n      proxy_set_header Connection $connection_upgrade;\n      proxy_redirect off;\n      proxy_buffering off;\n      proxy_pass http://127.0.0.1:8080;\n  }\n}\n\nmap $http_upgrade $connection_upgrade {\n  default upgrade;\n  '' close;\n}"` |  |
| nominatimUi.version | string | `"3.2.1"` |  |
| pdb.create | bool | `false` |  |
| pdb.maxUnavailable | string | `""` |  |
| pdb.minAvailable | int | `1` |  |
| pdb.pdbMatchExpressions[0].key | string | `"job-name"` |  |
| pdb.pdbMatchExpressions[0].operator | string | `"DoesNotExist"` |  |
| podAffinityPreset | string | `""` |  |
| podAnnotations | object | `{}` |  |
| podAntiAffinityPreset | string | `"soft"` |  |
| podLabels | object | `{}` |  |
| podSecurityContext.enabled | bool | `false` |  |
| podSecurityContext.fsGroup | int | `101` |  |
| podSecurityContext.seccompProfile.type | string | `"RuntimeDefault"` |  |
| postgresql.auth.postgresPassword | string | `"nominatim"` |  |
| postgresql.enabled | bool | `true` |  |
| postgresql.image.repository | string | `"bitnamilegacy/postgresql"` |  |
| postgresql.primary.extendedConfiguration | string | `"shared_buffers = 2GB\nmaintenance_work_mem = 10GB\nautovacuum_work_mem = 2GB\nwork_mem = 50MB\neffective_cache_size = 24GB\nsynchronous_commit = off\nmax_wal_size = 1GB\ncheckpoint_timeout = 10min\ncheckpoint_completion_target = 0.9\n"` |  |
| postgresql.primary.persistence.size | string | `"500Gi"` |  |
| postgresql.primary.resources | object | `{}` |  |
| postgresql.primary.resourcesPreset | string | `"none"` |  |
| priorityClassName | string | `""` |  |
| readinessProbe.enabled | bool | `true` |  |
| readinessProbe.failureThreshold | int | `6` |  |
| readinessProbe.httpGet.httpHeaders[0].name | string | `"Host"` |  |
| readinessProbe.httpGet.httpHeaders[0].value | string | `"localhost"` |  |
| readinessProbe.httpGet.path | string | `"/status"` |  |
| readinessProbe.httpGet.port | string | `"http"` |  |
| readinessProbe.initialDelaySeconds | int | `30` |  |
| readinessProbe.periodSeconds | int | `10` |  |
| readinessProbe.successThreshold | int | `1` |  |
| readinessProbe.timeoutSeconds | int | `5` |  |
| replicaCount | int | `1` |  |
| resources | object | `{}` |  |
| resourcesPreset | string | `"micro"` |  |
| revisionHistoryLimit | int | `10` |  |
| schedulerName | string | `""` |  |
| service.annotations | object | `{}` |  |
| service.clusterIP | string | `""` |  |
| service.externalTrafficPolicy | string | `"Cluster"` |  |
| service.extraPorts | list | `[]` |  |
| service.loadBalancerIP | string | `""` |  |
| service.loadBalancerSourceRanges | list | `[]` |  |
| service.nodePorts.http | string | `""` |  |
| service.ports.http | int | `80` |  |
| service.sessionAffinity | string | `"None"` |  |
| service.sessionAffinityConfig | object | `{}` |  |
| service.type | string | `"LoadBalancer"` |  |
| serviceAccount.annotations | object | `{}` |  |
| serviceAccount.automountServiceAccountToken | bool | `true` |  |
| serviceAccount.create | bool | `false` |  |
| serviceAccount.name | string | `""` |  |
| sidecars | list | `[]` |  |
| startupProbe.enabled | bool | `false` |  |
| startupProbe.failureThreshold | int | `6` |  |
| startupProbe.httpGet.httpHeaders[0].name | string | `"Host"` |  |
| startupProbe.httpGet.httpHeaders[0].value | string | `"localhost"` |  |
| startupProbe.httpGet.path | string | `"/status"` |  |
| startupProbe.httpGet.port | string | `"http"` |  |
| startupProbe.initialDelaySeconds | int | `30` |  |
| startupProbe.periodSeconds | int | `10` |  |
| startupProbe.successThreshold | int | `1` |  |
| startupProbe.timeoutSeconds | int | `5` |  |
| terminationGracePeriodSeconds | string | `""` |  |
| tolerations | list | `[]` |  |
| topologySpreadConstraints | list | `[]` |  |
| updateStrategy.type | string | `"RollingUpdate"` |  |
| updates.affinity | object | `{}` |  |
| updates.args[0] | string | `"NOMINATIM_REPLICATION_MAX_DIFF=5000 nominatim replication --catch-up --threads 1\n"` |  |
| updates.backoffLimit | string | `""` |  |
| updates.command[0] | string | `"/bin/bash"` |  |
| updates.command[1] | string | `"-ec"` |  |
| updates.concurrencyPolicy | string | `"Forbid"` |  |
| updates.containerSecurityContext.allowPrivilegeEscalation | bool | `false` |  |
| updates.containerSecurityContext.capabilities.drop[0] | string | `"ALL"` |  |
| updates.containerSecurityContext.enabled | bool | `false` |  |
| updates.containerSecurityContext.runAsNonRoot | bool | `true` |  |
| updates.containerSecurityContext.runAsUser | int | `1001` |  |
| updates.enabled | bool | `false` |  |
| updates.extraEnvVars | list | `[]` |  |
| updates.extraEnvVarsCM | string | `""` |  |
| updates.extraEnvVarsSecret | string | `""` |  |
| updates.failedJobsHistoryLimit | string | `""` |  |
| updates.nodeAffinityPreset.key | string | `""` |  |
| updates.nodeAffinityPreset.type | string | `""` |  |
| updates.nodeAffinityPreset.values | list | `[]` |  |
| updates.nodeSelector | object | `{}` |  |
| updates.podAffinityPreset | string | `"hard"` |  |
| updates.podAnnotations | object | `{}` |  |
| updates.podAntiAffinityPreset | string | `""` |  |
| updates.podLabels | object | `{}` |  |
| updates.podSecurityContext.enabled | bool | `false` |  |
| updates.podSecurityContext.fsGroup | int | `101` |  |
| updates.podSecurityContext.seccompProfile.type | string | `"RuntimeDefault"` |  |
| updates.priorityClassName | string | `""` |  |
| updates.replicationUrl | string | `"https://download.geofabrik.de/europe/germany/sachsen-updates/"` |  |
| updates.resources | object | `{}` |  |
| updates.schedule | string | `"0 * * * *"` |  |
| updates.schedulerName | string | `""` |  |
| updates.startingDeadlineSeconds | string | `""` |  |
| updates.successfulJobsHistoryLimit | string | `""` |  |
| updates.suspend | string | `""` |  |
| updates.terminationGracePeriodSeconds | string | `""` |  |
| updates.timeZone | string | `""` |  |
| updates.tolerations | list | `[]` |  |
| updates.topologySpreadConstraints | list | `[]` |  |
| updates.ttlSecondsAfterFinished | string | `""` |  |
| volumePermissions.containerSecurityContext.runAsUser | int | `0` |  |
| volumePermissions.containerSecurityContext.seLinuxOptions | object | `{}` |  |
| volumePermissions.enabled | bool | `false` |  |
| volumePermissions.image.digest | string | `""` |  |
| volumePermissions.image.pullPolicy | string | `"IfNotPresent"` |  |
| volumePermissions.image.pullSecrets | list | `[]` |  |
| volumePermissions.image.registry | string | `"docker.io"` |  |
| volumePermissions.image.repository | string | `"bitnami/os-shell"` |  |
| volumePermissions.image.tag | string | `"12-debian-12-r18"` |  |
| volumePermissions.resources | object | `{}` |  |
| volumePermissions.resourcesPreset | string | `"nano"` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
